jQuery(document).ready(function(f){var e=f(this),d=f("body");var h={sortable:{axis:"y",start:function(l,m){m.placeholder.height(m.item.height())},stop:function(l,m){m.item.parent().kcReorder(m.item.data("mode"),true)}},colorpicker:{onBeforeShow:function(){f(this).ColorPickerSetColor(this.value)},onSubmit:function(l,p,n,o){var m="#"+p;f(o).css({backgroundColor:m,color:m}).val(m).ColorPickerHide()}},datepicker:{date:{dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,showButtonPanel:true},month:{dateFormat:"yy-mm",changeMonth:true,changeYear:true,showButtonPanel:true,beforeShow:function(m,l){l.dpDiv.addClass("kcDPMonth")},onChangeMonthYear:function(l,n,m){f(this).val(f.datepicker.formatDate("yy-mm",new Date(l,n-1,1)))},onClose:function(m,l){setTimeout(function(){l.dpDiv.removeClass("kcDPMonth")},300)},currentText:win.kcSettings.texts.now},datetime:{dateFormat:"yy-mm-dd",timeFormat:"hh:mm",separator:"T",stepHour:1,stepMinute:1,currentText:win.kcSettings.texts.now},text:{isRTL:win.isRTL,timeText:win.kcSettings.texts.time,hourText:win.kcSettings.texts.hour,minuteText:win.kcSettings.texts.minute,currentText:win.kcSettings.texts.today,closeText:win.kcSettings.texts.done,nextText:win.kcSettings.texts.next,prevText:win.kcSettings.texts.prev,dayNames:win.kcSettings.texts.dayNames.full,dayNamesMin:win.kcSettings.texts.dayNames.min,dayNamesShort:win.kcSettings.texts.dayNames.shrt,monthNames:win.kcSettings.texts.monthNames.full,monthNamesShort:win.kcSettings.texts.monthNames.shrt,weekHeader:win.kcSettings.texts.weekNames.shrt,timeOnlyTitle:win.kcSettings.texts.chooseTime}}};f("#kc-settings-form").kcMetaboxDeps();f.kcRowCloner();f.kcRowCloner.addCallback("add",function(l){f("ul.kc-rows").sortable("refresh");f(".hasDatepicker",l.nuItem).each(function(){f(this).removeData("datepicker").removeClass("hasDatepicker").datepicker(h.datepicker[f(this).attr("type")])});f(".hasColorpicker",l.nuItem).each(function(){f(this).removeData("colorpickerId").removeAttr("style").ColorPicker(h.colorpicker)})});f("ul.kc-rows").sortable(h.sortable);f(".kcs-tabs").kcTabs();var a=f("input[type=date], input[type=month]");if(a.length&&Modernizr.inputtypes.date===false){Modernizr.load([{load:kcGetSNS("jquery_ui_datepicker",win.kcSettings.js).concat(kcGetSNS("jquery_ui",win.kcSettings.css)),complete:function(){a.each(function(){f(this).datepicker(f.extend(h.datepicker.text,h.datepicker[f(this).attr("type")]))})}}])}var b=f("input[type=datetime]");if(b.length&&Modernizr.inputtypes.datetime===false){Modernizr.load([{load:kcGetSNS("jquery_ui_datetimepicker",win.kcSettings.js),complete:function(){var l=f.extend(h.datepicker.text,h.datepicker.datetime);b.datetimepicker(f.extend(l,{timeFormat:"hh:mmZ"}))}}])}var g=f("input[type=datetime-local]");if(g.length&&Modernizr.inputtypes["datetime-local"]===false){Modernizr.load([{load:kcGetSNS("jquery_ui_datetimepicker",win.kcSettings.js),complete:function(){g.datetimepicker(f.extend(h.datepicker.text,h.datepicker.datetime))}}])}var i=f("input[type=time]");if(i.length&&Modernizr.inputtypes.time===false){Modernizr.load([{load:kcGetSNS("jquery_ui_datetimepicker",win.kcSettings.js),complete:function(){i.timepicker(f.extend(h.datepicker.text,h.datepicker.datetime))}}])}var k=f("input[type=color]");if(k.length&&Modernizr.inputtypes.color===false){Modernizr.load([{load:kcGetSNS("jquery_colorpicker",win.kcSettings.js).concat(kcGetSNS("jquery_colorpicker",win.kcSettings.css)),complete:function(){k.ColorPicker(h.colorpicker).each(function(){var l=f(this).addClass("hasColorpicker");if(l.val()!==""){l.css({backgroundColor:this.value,color:this.value})}})}}])}f("select.chosen").kcChosen();var j=f("#addtag");if(j.length){var c=f();f("div.kcs-field").each(function(){c=c.add(f(this).clone())});if(c.length){j.ajaxComplete(function(m,n,l){if(l.data.indexOf("action=add-tag")<0){return}f("div.kcs-field").each(function(o){f(this).replaceWith(c.eq(o).clone())});f(".kcs-tabs",j).kcTabs();j.trigger("kcsRefreshed")})}}});