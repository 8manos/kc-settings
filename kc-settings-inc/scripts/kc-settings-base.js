function kcCountObj(c){var b=0;for(var a in c){if(c.hasOwnProperty(a)){++b}}return b}function kcsbSlug(a){strNu=a.replace(/^\-+/,"");strNu=strNu.replace(/^_+/,"");strNu=strNu.replace(/[^A-Za-z0-9\-_]/g,"");if(strNu.match(/^\-+/)||strNu.match(/^_+/)){strNu=kcsbSlug(strNu)}return strNu}function invertColor(a){inverted=new RGBColor(a);if(inverted.ok){a="rgb("+(255-inverted.r)+", "+(255-inverted.g)+", "+(255-inverted.b)+")"}return a}(function(a){var b=a(document);a.fn.kcGoto=function(c){defaults={offset:-20,speed:800};c=a.extend({},defaults,c);return this.each(function(){var d=a(this);d.fadeIn(function(){a("html, body").stop().animate({scrollTop:(d.offset().top+c.offset)},c.speed)})})};a.fn.kcsbUnique=function(){return this.each(function(){var d=a(this),c=d.val();d.data("olVal",c).blur(function(){var g=a(this),f=d.data("olVal"),e=g.val();if(e!=f&&a.inArray(e,kcSettings._ids[g.data("ids")])>-1){g.val("")}})})};a.fn.kcsbCheck=function(){var c=a(this);if((c.attr("name")==="kcsb[id]"&&c.val()==="id")||c.val()===""){c.val("").focus().css("borderColor","#ff0000");return false}else{c.removeAttr("style")}};a.fn.kcFormDep=function(d){var e={disable:true,callback:function(){}},d=a.extend({},e,d),c=function(g){var f=a(g.target),h=f.val();f.data("depTargets").each(function(){var k=a(this);if(g.kcfdInit===true){if(k.data("kcfdInit")){return}else{k.data("kcfdInit",true)}}var j=k.data("dep"),i=false;if(!f.prop("disabled")&&(((typeof j==="string"||typeof j==="number")&&j==h)||(typeof j==="object"&&a.inArray(h,j)>-1))){i=true}k.toggle(i);if(d.disable===true){k.find(":input").prop("disabled",!i).trigger("change")}})};return this.each(function(){var f=a(this),h=f.val(),g=(f.data("scope")!==undefined)?f.closest(f.data("scope")).find(f.data("child")):a(f.data("child"));if(g.length){f.data("depTargets",g).on("change",c).trigger({type:"change",kcfdInit:true})}})};a.fn.kcReorder=function(j,e){var h=new RegExp(j+"\\]\\[(\\d+)"),g=new RegExp(j+"\\-(\\d+)"),d=a(this);if(e===true){var f=d.children(),c=0}else{var f=d,c=d.index()}f.each(function(){var i=a(this);i.find(":input").each(function(){this.name=this.name.replace(h,function(l,k){return j+"]["+c});if(this.id!==""){this.id=this.id.replace(g,function(l,k){return j+"-"+c})}});i.find("label").each(function(){var k=a(this),l=k.attr("for");if(l!==""&&l!==undefined){k.attr("for",l.replace(g,function(n,m){return j+"-"+c}))}});c++});return this};a.fn.kcTabs=function(){var c=function(g){g.preventDefault();var d=a(g.currentTarget),f=d.parent();if(f.hasClass("tabs")){return}d.closest("ul").data("kcTabsPanels").hide().filter(d.data("kcTabsPanel")).show();f.addClass("tabs").siblings().removeClass("tabs")};return this.each(function(){var e=a(this),d=a();$panels=a();e.children().each(function(f){var g=a(this).children("a").first();if(!g.length){return}var h=a(g.attr("href"));if(!h.length){return}$panels=$panels.add(h);d=d.add(g);g.data("kcTabsPanel",h).on("click",c)});e.data({kcTabsPanels:$panels,kcTabsAnchors:d});d.first().trigger("click")})};if(!Modernizr.details){b.on("click","summary",function(f){if(a(f.target).is("a")){return}var c=a(this),d=c.parent();if(d.attr("open")){d.removeAttr("open")}else{d.attr("open","open")}})}})(jQuery);